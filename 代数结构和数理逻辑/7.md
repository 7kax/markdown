# 命题代数

设$T=\{F,→\}$，这里$ar(F)=0,ar(→)=2$, 称任何这样的**T-代数**为**命题代数**

设$X$是**可列集**，$X$上的**自由 T-代数**称为$X$**上关于命题演算的命题代数**，记为$P(X)$

- $X$中的元素称为**命题变元**
- $X$为**命题变量集**
- $P(X)$中的每个元素称为命题演算的**合式公式**，简记为**wff**
- 仅由**一个命题变元**组成的**合式公式**称为**原子公式**
- 所有**原子公式**全体称为**原子公式集**

## 实例

对于$Z_2=\{0,1\}$，构造 T-代数

- $F_{Z_2}: {Z_2}^0→Z_2,F_{Z_2}(\varnothing)=0$
- $→_{Z_2}: {Z_2}^2→Z_2,→_{Z_2}(m,n)=1+m*(1+n)$

$+,*$是模 2 加法和乘法运算, 以上构成了一个命题代数

## $P(X)$中元素的解释

把$P(X)$中的每个**合式公式**解释为**可判断真假的语句**

**原子公式集**中的每个**原子公式**表示任意的**简单命题**

$P(X)$中的其它元素表示**复合命题**

## 定义运算

在任何命题代数中，可利用$F$和$→$定义一元运算$\neg$和其它二元运算$\vee,\wedge,\leftrightarrow$，定义为：

- $¬p≝p→𝐹$
- $𝑝∨𝑞≝(¬p)→𝑞$
- $𝑝∧𝑞≝¬((¬p)∨(¬𝑞))$
- $𝑝↔𝑞≝(𝑝→𝑞)∧(𝑞→𝑝)$

# 命题演算的语义

## 赋值

设$P(X)$是$X$**上关于命题演算的命题代数**，称$P(X)→Z_2$的**同态映射**$v$为$P(X)$的**赋值**

对于$\forall p\in P(X)$，若$v(p)=1$则称$p$按赋值$v$**为真**，且说$p$所表示的**命题为真**，简称$p$**为真**；若$v(p)=0$则称$p$按赋值$v$**为假**，且说$p$所表示的**命题为假**，简称$p$**为假**

- **定理 18.1**：设$A$为**命题代数**，$v_0$为$X→A$的映射，则$v_0$可**唯一扩张**为$P(X)→A$的**同态映射**$v$

设$v_0$为$X→Z_2$的**映射**，称$v_0$为**命题变元**的一个**指派**

## 真值

函数$f: {Z_2}^n→Z_2$称为$n$**元真值函数**

设$p\in P(X)$，定义$p$的$n$**元真值函数**$f_p:{Z_2}^n→Z_2,f_p=v(p)$，称$f_p$为$p$的**真值函数**

由$p$的**真值函数**所建立的函数值表称为$p$的**真值表**

## 语义蕴含

设$A\subseteq P(X),q\in P(X)$，若对$\forall p\in A$以及所有使得$v(p)=1$的**赋值**$v$，都有$v(q)=1$，则称$q$是**假设集**$A$的**后件**，或称$A$**语义蕴含**$q$，记为$A╞q$

用$Con(A)$表示$A$**的后件全体**，即$Con(A)=\{p|p\in P(X),A╞p\}$

有$\forall q\in P(X), \{F\}╞q$恒成立

设$p\in P(X)$，若对$P(X)$的任意**赋值**$v$都有$v(p)=1$，则称$p$是**有效的**，也称为**重言式**; 若对$P(X)$的任意**赋值**$v$都有$v(p)=0$，则称$p$是**永假式**

若$\varnothing╞p$，则$p$就是**重言式**，简记为$╞p$

- **引理 18.1**：$Con$是$P(X)$上的**封闭运算**，有如下性质：
  - $A\subseteq Con(A)$
  - 若$A_1\subseteq A_2$，则$Con(A_1) \subseteq Con(A_2)$
  - $Con(Con(A))=Con(A)$

### 等值

设$p,q\in P(X)$，若对$P(X)$的任意**赋值**$v$有$v(p)=v(q)$，则称$p,q$**等值**

- **定理 18.2**：下述结论是等价的：
  - $p,q$**等值**
  - $╞p\leftrightarrow q$
  - $p,q$有相同的**真值函数**和**真值表**
- **定理 18.3**：对$\forall p,q,r\in P(X)$有下述结论：
  - $╞\neg\neg p\leftrightarrow p$
  - $╞\neg(p\wedge q)\leftrightarrow \neg p\vee \neg q$
  - $╞\neg(p\vee q)\leftrightarrow \neg p\wedge \neg q$
  - $╞\neg(p_1\vee p_2\vee...\vee p_n)\leftrightarrow \neg p_1\wedge\neg p_2\wedge...\wedge\neg p_n$
  - $╞\neg(p_1\wedge p_2\wedge...\wedge p_n)\leftrightarrow \neg p_1\vee\neg p_2\vee...\vee\neg p_n$

## 析取范式和合取范式

形式为$\bigvee_{i=1}^{m}(\bigwedge_{j=1}^ny_{ij})$的**合式公式**称为**析取范式**

形式为$\bigwedge_{i=1}^{m}(\bigvee_{j=1}^ny_{ij})$的**合式公式**称为**合取范式**

其中$y_{ij}$为某个**命题变元**$x_k$或$\neg x_k$

- **定理 18.4**：任何**合式公式**都有只含**命题变元**及$\vee,\wedge,\neg$这三种运算的**合式公式**与该合式公式**等值**
  - 证明：设$p=p(x_1,x_2,...,x_n)\in P(X_n)$，分两种情况讨论:
    - 若对$P(X_n)$中任一赋值$v$，都有$v(p(x_1,x_2,...,x_n)) =0$，则$p(x_1,x_2,...,x_n)$与$x_1\wedge\neg x_1\wedge x_2\wedge...\wedge x_n$等值, 结论成立
    - 若存在$P(X_n)$中的赋值$v$，使得$v(p(x_1,x_2,...,x_n)) =1$，则构造与该**指派**所对应的合式公式$y_1\wedge y_2\wedge...\wedge y_n$, 使得:
      $$
      y_i=\begin{cases}
        x_i&v(x_i)=1\\
        \neg x_i&v(x_i)=0
      \end{cases}
      $$
      则必有$v(y_1\wedge y_2\wedge...\wedge y_n)=1$
      - 由于对变元$x_1,x_2,...,x_n$的可能指派为$2^n$种，故使$v(p(x_1,x_2,...,x_n))=1$的赋值最多为$2^n$种
      - 用上述方法可以分别构造出与$v^i$所对应的公式$y^i_1\wedge y^i_2\wedge...\wedge y^i_n$，这些公式我们称为**极小合取式**
      - 把这$2^n$个公式全部拿来构造合式公式如下：
        $$
        q=v^1\vee v^2\vee...\vee v^{2^n}
        $$
        则由$q$的构造过程可知：$q$与$p(x_1,x_2,...,x_n)$等值, 结论成立

一个合式公式若不是永假式，则用**定理 18.4**的证明方法得到的**等值析取范式**称为该合式公式的**标准析取范式**

- **推论 18.1**：每个**非重言式**必等值于一个**合取范式**
  - 证明：设$p$不是重言式，则$¬p$不是永假式, 故由**定理 18.4**知，必存在与$¬p$等值的**标准析取范式**$\bigvee_{i=1}^m(\bigwedge_{j=1}^{n}y_{ij})$
  - $p$等值于$¬¬p$，因此$p$等值于$\neg(\bigvee_{i=1}^m(\bigwedge_{j=1}^{n}y_{ij}))$
  - 则$p$等值于$\bigwedge_{i=1}^m(\bigvee_{j=1}^{n}\neg y_{ij})$
  - 则$p$等值于$\bigwedge_{i=1}^m(\bigvee_{j=1}^{n}z_{ij})$, 其中
    $$
    z_i=\begin{cases}
      \neg x_i&v(x_i)=1\\
      x_i&v(x_i)=0
    \end{cases}
    $$
  - $\bigwedge_{i=1}^m(\bigvee_{j=1}^{n}z_{ij})$即为所求

一个合式公式若不是重言式，则用**推论 18.1**的证明方法得到的**等值合取范式**称为该合式公式的**标准合取范式**

# 命题演算的形式证明

## 公理

对于集合$X$上的**命题演算**，称$X$上的**自由命题代数**$P(X)$的子集$\mathscr{A}=\mathscr{A_1}∪\mathscr{A_2}∪\mathscr{A_3}$中的所有元素为系统的公理。其中：

- $\mathscr{A_1}=\{p→(q→p)|p,q\in P(X)\}$
- $\mathscr{A_2}=\{(p→(q→r))→((p→q)→(p→r))|p,q,r\in P(X)\}$
- $\mathscr{A_3}=\{\neg\neg p→p|p\in P(X)\}$

## 推理规则

**MP 规则**：由$p$和$p→q$可导出$q$

## 证明

设$q\in P(X),A\subseteq P(X)$，在集合$X$上的**命题演算**中，由**假设**$A$导出$q$的**证明**是一组有限序列$p_1,p_2,...,p_n$，这里$p_i\in P(X)(i=1,…,n),p_n=q$，并且对每个$p_i$, 或者$p_i\in \mathscr{A}∪A$，或者存在$j,k(j,k<i)$，有$p_k=(p_j→p_i)$

## 推导

设$q\in P(X),A\subseteq P(X)$，如果存在一个由$A$导出$q$的**证明**，则称$q$是$A$的**推导**，或称$q$是从$A$**可证明的**，记为$A┝q$，且用$Ded(A)$表示$A$的**推导全体**

显然：$A\subseteq Ded(A)$

设$p\in P(X)$，如果存在一个由$\varnothing$导出$p$的**证明**，则称$p$是$X$上的命题演算的**定理**, 记为$\varnothing┝p$，也简写为$┝p$

- **引理 18.2**：$Ded(A)$具有如下性质：
  - 若$q\in Ded(A)$，则必存在$A$的**有限子集**$A'$，使得$q\in Ded(A')$
  - $Ded$在$P(X)$满足**封闭性**，即：
    - $A\subseteq Ded(A)$
    - 若$A_1\subseteq A_2$,则$Ded(A_1) \subseteq Ded(A_2)$
    - $Ded(Ded(A))=Ded(A)$
- **定理 18.5(演绎定理)**：设$A\subseteq P(X), p,q\in P(X)$，则$A┝p→q$当且仅当$A∪{p}┝q$
- **定理 18.6(代换定理)**：设$X,Y$是两个集合，$\varphi$是$P(X)→P(Y)$的**同态映射**，设$w=w(x_1,x_2,...,x_n)$是$P(X)$的元素，$A\subseteq P(X)$，令$q_i=\varphi(x_i),q_i\in P(Y)$：
  - 如果$A┝w$，则$\varphi(A)┝\varphi(w)(=w(q_1,q_2,...,q_n))$
  - 如果$A╞w$，则$\varphi(A)╞\varphi(w)(=w(q_1,q_2,...,q_n))$
- **推论 18.2**：设$P(X_n)$为$X_n$上的命题代数，$p_i\in P(X_n)(i=1,2,...,n), w=w(x_1,x_2,...,x_n)\in P(X_n)$，则有：
  - 如果$┝w$，则$┝w(p_1,p_2,...,p_n)$
  - 如果$╞w$，则$╞w(p_1,p_2,...,p_n)$

## 子公式

设$p,w\in P(X)$，若$p$在$w$中出现，则称$p$为$w$的**子公式**

- **定理 18.7(子公式替换定理)**：设$w,p,p'\in P(X)$，$p$为$w$的**子公式**，把$p$在$w$中的某些出现替换为$p'$得到的公式记为$w'$
  - 若$┝p\leftrightarrow p'$，则有$┝w\leftrightarrow w'$
  - 若$╞p\leftrightarrow p'$，则有$╞w\leftrightarrow w’$

# 一般逻辑系统

一个逻辑$L$是由下述集合所组成的系统：

- **元素**(称为命题)集$P$
- **函数**集$V$(这些函数都是从$P$到某个值集$W$的，称为**赋值**。特别若$|W|>2$则称$L$为**多值逻辑系统**)
- 对应于$P$的每个子集$A$导出$P$中元素的**有限序列集**(称为由前提$A$得到的**证明**)

在逻辑$L$中：

- **语义蕴含**由**赋值**所定义，记号$A╞p$读成$A$**语义蕴含**$p$或称$p$是$A$的**后件**
- **语法蕴含**由**证明**所定义，记号$A┣p$读成$A$**语法蕴含**$p$或称$p$是$A$的**推导**
- 若$\varnothing╞p$，则称$p$是$L$的**重言式**；若$\varnothing┣p$，则称$p$是$L$的**定理**

如果$A┣p$必有$A╞p$，则称逻辑$L$是**可靠的**

如果$A╞p$必有$A┣p$，则称逻辑$L$是**完备的**

如果$F$不是$L$的**定理**，则称逻辑$L$是**协调的**

如果存在一个算法，对逻辑$L$的每个命题$p$，能在有限步内确定$p$是否为**重言式**，则称逻辑$L$是**有效性可判定的**

如果存在一个算法，对逻辑$L$的每个命题$p$, 能在有限步内确定$p$是否为**定理**，则称逻辑$L$是**可证明性可判定的**

用$Prop(X)$记作$X$上**命题演算的逻辑**，其组成为：

- 集合$P=P(X)$
- 所有的$P(X)$到$Z_2$同态映射集$V$
- 证明集, 即$P(X)$的每个子集$A$导出$P(X)$中元素的有限序列集

# 命题演算的性质

## 可靠

- **定理 18.8(可靠性定理)**：设$A\subseteq P(X),p\in P(X)$, 若$A┣p$，则有$A╞p$
  - 简言之：$Ded(A)\subseteq Con(A)$

## 协调

- **推论 20.3：(协调性定理)**：$F$不是$Prop(X)$的定理

设$A\subseteq P(X)$, 若$F\notin Ded(A)$，则称$A$是**协调的**

若$A$是**协调的**，且对任何$B\subseteq P(X)$，当$A \subset B$时，$B$必定不协调，则称$A$是**极大协调子集**

- **引理 18.3**：设$A\subseteq P(X)$，则$A$是**极大协调子集**当且仅当：
  - $F\notin A$
  - $A=Ded(A)$
  - 对所有的$p\in P(X)$，或者$p\in A$或者$\neg p\in A$
- **引理 18.4**：设$A$是**不协调的**，则存在$A$的有限子集是**不协调的**
- **引理 18.5**：设$A$是$P(X)$的**协调子集**，则$A$必被某个**极大协调子集**所包含
- **定理 18.9(可满足性定理)**：设$A$是$P(X)$的**协调子集**，则存在赋值$v:P(X)\rightarrow Z_2$，使得$v(A)\subseteq\{1\}$

## 完备

- **定理 18.10(完备性定理)**：设$A\subseteq P(X),p\in P(X)$，若在$Prop(X)$中有$A╞p$，则在$Prop(X)$中有$A┣p$
- **引理 18.6**：设$w=w(x_1,x_2,...,x_n)\in P(X)$，则$╞w$当且仅当$w$的真值函数$f_w$是常值函数$1$

## 可判定性

- **定理 18.11**：$Prop(X)$是**有效性可判定的**
- **推论 18.4**：$Prop(X)$是**可证明性可判定的**
